<!DOCTYPE HTML>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE-Edge">
        <meta name="veiwport" content="width=device-width,initial-scale=1.0">
        <title>Sticky Notes</title>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
        <link rel="stylesheet" type="text/css" href="style.css">
    </head>
    <body>
        <div class="container">
            <div class="notes">
                <div id="create">
                    <i class="fa-solid fa-plus"></i>
                    <div class="createBox">
                        <div class="innerCreateBox">
                            <textarea placeholder="Enter task to do" id="userInput" maxlength="160"></textarea>
                        </div>
                    </div>
                </div>
                
            </div>
        </div>
        <script>
            let createBox = document.getElementsByClassName('createBox')[0];
            let notes = document.getElementsByClassName('notes')[0];
            let input = document.getElementById('userInput');
            let i=0;

            createBox.addEventListener('keydown',content);

            document.getElementById('create').addEventListener("click",
                function(){
                    createBox.style.display = "block";
                });
            
            function content(e){
                if(e.keyCode=='13'){
                    divStyle(input.value);
                    input.value="";
                    createBox.style.display="none";
                }
            }
            function color(){
                let randomColors1 = ["#d4f0f0","#8fcaca","#cce2cb","#b6cfb6","#97c1a9"];
                let randomColors2 = ["#ffadad","#ffd6a5","#fdffb6","#e4f1ee","#d9edf8","#dedaf8"];
                let randomColors3 = ["#e8dff5","#fce1e4","#fcf4dd","#ddedea","#daeaf6"];
                let randomColors = ["#ce97fb","#f6a5eb","#ffaa9d","#fdffb6","#9bfbe1","#67ebfa"];


                if(i>randomColors.length-1){
                    i=0;
                }
                return randomColors[i++];
            }

            function divStyle(text){
                let div=document.createElement("div");
                div.className='note';
                div.innerHTML='<div class="details">'+'<h4>'+text+'</h4>'+'</div>';

                div.addEventListener("dblclick",function(){
                    div.remove();
                })

                div.setAttribute('style','background:'+color()+'');
                notes.appendChild(div);
            }
        </script>
    </body>
</html>